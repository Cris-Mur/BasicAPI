#!/usr/bin/env node

require('dotenv').config();
const { port_env } = require('./utils/port_enviroments');

const network = require('../network/server');
const application = require('../application');

const app = application.startUp(process.env.NODE_ENV);
console.log('[Application]', app.mountpath);

const port = network._http.normalizePort(port_env());

app.set('port', port);

const server = network._http.create_server(app);
server.listen(port);
server.on('error', network._http.onError);
server.on('listening', network._http.onListening);